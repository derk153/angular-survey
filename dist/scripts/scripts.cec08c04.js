"use strict";angular.module("appApp",["ngMessages","ngRoute","ui.router"]).config(["$routeProvider","$stateProvider","$urlRouterProvider",function(a,b,c){b.state("main",{url:"/main",templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).state("main.create",{url:"/create",templateUrl:"views/main-create.html"}).state("main.take",{url:"/take",templateUrl:"views/main-take.html"}).state("main.result",{url:"/result",templateUrl:"views/main-result.html"}),c.otherwise("/main/create")}]),angular.module("appApp").controller("MainCtrl",["$scope","$http","surveyService","$state",function(a,b,c,d){a.types=[{name:"Radio buttons",value:"radio"},{name:"Checkbxes",value:"checkbox"},{name:"Drop-down",value:"dropdown"},{name:"Input",value:"input"}],a.formData={name:""},a.result={},a.questions=[];var e={type:a.types[0].value,options:[]};a.question=e,a.addQuestion=function(){var b=a.question;a.questions.push(b),a.question={type:a.types[0].value,options:[]}},a.removeTodo=function(b){a.questions.splice(b,1)},a.addField=function(a){a.push("")},a.removeField=function(a,b){a.splice(b,1)},a.submitSurvey=function(b){a.formData.questions=b},a.addSurvey=function(){a.result=a.formData,d.go("main.result")}}]),angular.module("appApp").service("surveyService",function(){var a=[],b=function(b){a.push(b)},c=function(){return a};return{addSurvey:b,getSurvey:c}}),angular.module("appApp").filter("checkboxValues",function(){return function(a){var b=[];return angular.forEach(a,function(a,b){a&&this.push(b)},b),console.log(b),b.join(", ")}}),angular.module("appApp").directive("includeReplace",function(){return console.log("stsrt"),{require:"ngInclude",restrict:"A",link:function(a,b){b.replaceWith(b.children())}}}),angular.module("appApp").run(["$templateCache",function(a){a.put("views/checkbox/create.html",'<div class="form-group" ng-repeat="option in question.options track by $index"> <div class="col-md-offset-2 col-md-10"> <div class="input-group"> <input class="form-control" ng-model="question.options[$index]" type="text"> <span class="input-group-btn"> <button class="btn btn-danger" ng-click="removeField(question.options, $index)" type="button"> <span class="glyphicon glyphicon-remove"></span> </button> </span> </div> </div> </div> <div class="form-group"> <div class="col-md-offset-2 col-md-10"> <button class="btn btn-default" ng-click="addField(question.options)" type="button"> <span class="glyphicon glyphicon-plus"></span> Add field</button> </div> </div>'),a.put("views/checkbox/edit.html",'<div class="form-group"> <div class="checkbox" ng-repeat="(key, value) in question.options"> <label> <input ng-model="question.value[value]" type="checkbox"> {{ value }} </label> </div> </div>'),a.put("views/checkbox/show.html","<span> {{ question.value | checkboxValues }} </span>"),a.put("views/dropdown/create.html",'<div class="form-group" ng-repeat="option in question.options track by $index"> <div class="col-md-offset-2 col-md-10"> <div class="input-group"> <input class="form-control" ng-model="question.options[$index]" type="text"> <span class="input-group-btn"> <button class="btn btn-danger" ng-click="removeField(question.options, $index)" type="button"> <span class="glyphicon glyphicon-remove"></span> </button> </span> </div> </div> </div> <div class="form-group"> <div class="col-md-offset-2 col-md-10"> <button class="btn btn-default" ng-click="addField(question.options)" type="button"> <span class="glyphicon glyphicon-plus"></span> Add field</button> </div> </div>'),a.put("views/dropdown/edit.html",'<div class="form-group"> <select class="form-control" ng-model="question.value" ng-options="option as option for option in question.options" required></select> </div>'),a.put("views/dropdown/show.html","<span> {{ question.value }} </span>"),a.put("views/input/create.html",""),a.put("views/input/edit.html",'<div class="form-group"> <input type="text" class="form-control" ng-model="question.value" value="" required> </div>'),a.put("views/input/show.html","<span> {{ question.value}} </span>"),a.put("views/main-create.html",'<legend> My survey </legend> <table class="table table-striped"> <tr ng-repeat="question in questions"> <td>{{ question.question }}</td> <td style="width: 10%"> <button class="btn btn-danger" ng-click="removeTodo($index)">X</button> </td> </tr> </table> <div class="form-group"> <a class="btn btn-block btn-info" ng-click="submitSurvey(questions)" ui-sref="main.take">Start Survey <span class="glyphicon glyphicon-circle-arrow-right"></span> </a> </div> <form class="form-horizontal" ng-submit="addQuestion()" role="form"> <legend> Add New Question </legend> <div class="form-group"> <label class="col-md-2 control-label" for="textinput">Question:</label> <div class="col-md-10"> <input class="form-control input-md" ng-model="question.question" placeholder="Question text" type="text" required> </div> </div> <div class="form-group"> <label class="col-md-2 control-label" for="textinput">Type:</label> <div class="col-md-10"> <select class="form-control" ng-model="question.type" ng-options="type.value as type.name for type in types" ng-change="question.options = []"></select> </div> </div> <ng-include src="\'views/\'+question.type+\'/create.html\'"></ng-include> <div class="form-group"> <div class="col-md-offset-2 col-md-10"> <button class="btn btn-primary" type="submit">Add Question</button> </div> </div> </form>'),a.put("views/main-result.html",'<legend> Result </legend> <div class="container-fluid result"> <div class="row"> <label>Name:</label> <span>{{result.name}}</span> </div> <div class="row" ng-repeat="question in result.questions"> <label>{{ question.question }}</label> <ng-include src="\'views/\'+question.type+\'/show.html\'"></ng-include> </div> </div>'),a.put("views/main-take.html",'<legend> Survey </legend> <form ng-submit="addSurvey(formData)" role="form"> <div class="form-group"> <label>Name</label> <input class="form-control" ng-model="formData.name" placeholder="Your Name" type="text" required> </div> <div class="form-group" ng-repeat="question in formData.questions"> <label>{{ question.question }}</label> <ng-include src="\'views/\'+ question.type +\'/edit.html\'"></ng-include> </div> <div class="form-group"> <input class="btn btn-primary" type="submit" value="Submit My Results"> </div> </form>'),a.put("views/main.html",'<div class="navbar navbar-default navbar-centered" role="navigation"> <div class="container"> <ul class="nav navbar-nav"> <li ui-sref-active="active"> <a ui-sref=".create">Create</a> </li> <li ui-sref-active="active"> <a ui-sref=".take">Take</a> </li> <li ui-sref-active="active"> <a ui-sref=".result">Result</a> </li> </ul> </div> </div>  <div id="survey-views" ui-view></div>'),a.put("views/radio/create.html",'<div class="form-group" ng-repeat="option in question.options track by $index"> <div class="col-md-offset-2 col-md-10"> <div class="input-group"> <input class="form-control" ng-model="question.options[$index]" type="text"> <span class="input-group-btn"> <button class="btn btn-danger" ng-click="removeField(question.options, $index)" type="button"> <span class="glyphicon glyphicon-remove"></span> </button> </span> </div> </div> </div> <div class="form-group"> <div class="col-md-offset-2 col-md-10"> <button class="btn btn-default" ng-click="addField(question.options)" type="button"> <span class="glyphicon glyphicon-plus"></span> Add field</button> </div> </div>'),a.put("views/radio/edit.html",'<div class="form-group"> <div class="radio" ng-repeat="(key, value) in question.options"> <label> <input type="radio" ng-model="question.value" value="{{ key }}" ng-required="!question.value"> {{ value }} </label> </div> </div>'),a.put("views/radio/show.html","<span>{{question.options[question.value]}}</span>")}]);